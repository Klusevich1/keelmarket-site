{"ast":null,"code":"import React,{useState}from'react';import'../../resources/css/LoginForm.css';import{PhoneInput}from'react-international-phone';import'react-international-phone/style.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const LoginForm=()=>{const[inputFullName,setInputFullName]=useState('');const[phoneNumber,setPhoneNumber]=useState('');// Хранение номера телефона\nconst[inputEmail,setInputEmail]=useState('');const[inputCompany,setInputCompany]=useState('');const[isSubmit,setIsSubmit]=useState(false);const[errors,setErrors]=useState({fullName:false,phone:false,email:false,company:false});const validateForm=()=>{const newErrors={fullName:inputFullName==='',phone:phoneNumber==='',email:inputEmail==='',company:inputCompany===''};setErrors(newErrors);return!Object.values(newErrors).some(error=>error);};const handleFieldChange=(field,value)=>{switch(field){case'fullName':setInputFullName(value);setErrors(prev=>({...prev,fullName:value===''}));break;case'phone':setPhoneNumber(value);setErrors(prev=>({...prev,phone:value===''}));break;case'email':setInputEmail(value);setErrors(prev=>({...prev,email:value===''}));break;case'company':setInputCompany(value);setErrors(prev=>({...prev,company:value===''}));break;default:break;}};async function fetchData(event){event.preventDefault();if(!validateForm()){return;// Останавливаем отправку, если есть ошибки\n}try{setIsSubmit(true);const response=await fetch('http://localhost:3001'+'/sendMail',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name:inputFullName,phone:phoneNumber,email:inputEmail,company:inputCompany})});const data=await response.json();if(!response.ok){console.error(data.message);return;}window.location.reload();window.scrollTo(0,0);}catch(error){console.error(error.message);}}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-modal-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Get in touch with us\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:fetchData,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-block\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputLoginFullName\",children:\"Full name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Full name\",className:`input-field ${errors.fullName?'input-error':''}`,disabled:isSubmit,id:\"inputLoginFullName\",value:inputFullName,onChange:e=>handleFieldChange('fullName',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-block\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputLoginPhone\",children:\"Phone\"}),/*#__PURE__*/_jsx(PhoneInput,{defaultCountry:\"gb\",value:phoneNumber,onChange:phoneNumber=>handleFieldChange('phone',phoneNumber),style:{height:'45px'},className:`${errors.phone?'phone-input-error':''}`,disabled:isSubmit})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-block\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputLoginEmail\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",className:`input-field ${errors.email?'input-error':''}`,disabled:isSubmit,id:\"inputLoginEmail\",value:inputEmail,onChange:e=>handleFieldChange('email',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-block\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputLoginCompanyName\",children:\"Your company name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Company name\",className:`input-field ${errors.company?'input-error':''}`,disabled:isSubmit,id:\"inputLoginCompanyName\",value:inputCompany,onChange:e=>handleFieldChange('company',e.target.value)})]})]}),/*#__PURE__*/_jsx(\"button\",{className:`submit-btn ${isSubmit&&'disabled'}`,disabled:isSubmit,children:\"Submit now\"})]})]})});};","map":{"version":3,"names":["React","useState","PhoneInput","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","LoginForm","inputFullName","setInputFullName","phoneNumber","setPhoneNumber","inputEmail","setInputEmail","inputCompany","setInputCompany","isSubmit","setIsSubmit","errors","setErrors","fullName","phone","email","company","validateForm","newErrors","Object","values","some","error","handleFieldChange","field","value","prev","fetchData","event","preventDefault","response","fetch","method","headers","body","JSON","stringify","name","data","json","ok","console","message","window","location","reload","scrollTo","children","className","onSubmit","htmlFor","type","placeholder","disabled","id","onChange","e","target","defaultCountry","style","height"],"sources":["D:/Front-end/Projects/KeelMarketLLP/UI/client.react/src/views/components/LoginForm.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport '../../resources/css/LoginForm.css'\r\nimport { PhoneInput } from 'react-international-phone';\r\nimport 'react-international-phone/style.css';\r\n\r\n\r\nexport const LoginForm = () => {\r\n    const [inputFullName, setInputFullName] = useState<string>('');\r\n    const [phoneNumber, setPhoneNumber] = useState(''); // Хранение номера телефона\r\n    const [inputEmail, setInputEmail] = useState<string>('');\r\n    const [inputCompany, setInputCompany] = useState<string>('');\r\n    const [isSubmit, setIsSubmit] = useState<boolean>(false)\r\n    const [errors, setErrors] = useState<{ fullName: boolean; phone: boolean; email: boolean; company: boolean }>({\r\n        fullName: false,\r\n        phone: false,\r\n        email: false,\r\n        company: false\r\n    });\r\n\r\n    const validateForm = () => {\r\n        const newErrors = {\r\n            fullName: inputFullName === '',\r\n            phone: phoneNumber === '',\r\n            email: inputEmail === '',\r\n            company: inputCompany === ''\r\n        };\r\n        setErrors(newErrors);\r\n        return !Object.values(newErrors).some(error => error);\r\n    };\r\n\r\n    const handleFieldChange = (field: string, value: string) => {\r\n        switch (field) {\r\n            case 'fullName':\r\n                setInputFullName(value);\r\n                setErrors(prev => ({ ...prev, fullName: value === '' }));\r\n                break;\r\n            case 'phone':\r\n                setPhoneNumber(value);\r\n                setErrors(prev => ({ ...prev, phone: value === '' }));\r\n                break;\r\n            case 'email':\r\n                setInputEmail(value);\r\n                setErrors(prev => ({ ...prev, email: value === '' }));\r\n                break;\r\n            case 'company':\r\n                setInputCompany(value);\r\n                setErrors(prev => ({ ...prev, company: value === '' }));\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n\r\n\r\n    async function fetchData(event: any) {\r\n        event.preventDefault();\r\n        if (!validateForm()) {\r\n            return; // Останавливаем отправку, если есть ошибки\r\n        }\r\n        try {\r\n            setIsSubmit(true)\r\n            const response = await fetch('http://localhost:3001' + '/sendMail', {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify({\r\n                    name: inputFullName,\r\n                    phone: phoneNumber,\r\n                    email: inputEmail,\r\n                    company: inputCompany\r\n                })\r\n            });\r\n            const data = await response.json();\r\n\r\n            if (!response.ok) {\r\n                console.error(data.message);\r\n                return;\r\n            }\r\n            window.location.reload();\r\n            window.scrollTo(0,0)\r\n        } catch (error: any) {\r\n            console.error(error.message);\r\n        }\r\n    }\r\n\r\n  return (\r\n    <>\r\n        <div className='login-modal-container'>\r\n            <h3>Get in touch with us</h3>\r\n            <form onSubmit={fetchData}>\r\n                <div className='form-inputs'>\r\n                    <div className=\"input-block\">\r\n                        <label htmlFor='inputLoginFullName'>Full name</label>\r\n                        <input type=\"text\" placeholder='Full name' className={`input-field ${errors.fullName ? 'input-error' : ''}`} disabled={isSubmit} id='inputLoginFullName' value={inputFullName} onChange={(e) => handleFieldChange('fullName', e.target.value)}/>\r\n                    </div>\r\n                    <div className=\"input-block\">\r\n                        <label htmlFor='inputLoginPhone'>Phone</label>\r\n                        <PhoneInput\r\n                            defaultCountry=\"gb\"\r\n                            value={phoneNumber}\r\n                            onChange={(phoneNumber) => handleFieldChange('phone', phoneNumber)}\r\n                            style={{height: '45px'}}\r\n                            className={`${errors.phone ? 'phone-input-error' : ''}`} \r\n                            disabled={isSubmit}\r\n                        />\r\n                    </div>\r\n                    <div className=\"input-block\">\r\n                        <label htmlFor='inputLoginEmail'>Email</label>\r\n                        <input type=\"text\" placeholder='Email' className={`input-field ${errors.email ? 'input-error' : ''}`} disabled={isSubmit}  id='inputLoginEmail' value={inputEmail} onChange={(e) => handleFieldChange('email', e.target.value)}/>\r\n                    </div>\r\n                    <div className=\"input-block\">\r\n                        <label htmlFor='inputLoginCompanyName'>Your company name</label>\r\n                        <input type=\"text\" placeholder='Company name' className={`input-field ${errors.company ? 'input-error' : ''}`} disabled={isSubmit}  id='inputLoginCompanyName' value={inputCompany} onChange={(e) => handleFieldChange('company', e.target.value)}/>\r\n                    </div>\r\n                </div>\r\n                <button className={`submit-btn ${isSubmit && 'disabled'}`} disabled={isSubmit}>Submit now</button>\r\n            </form>\r\n        </div>\r\n        \r\n    </>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}