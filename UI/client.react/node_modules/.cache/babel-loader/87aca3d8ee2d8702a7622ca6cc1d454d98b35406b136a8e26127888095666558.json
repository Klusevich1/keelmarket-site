{"ast":null,"code":"import React,{useState}from'react';import'../../resources/css/LoginForm.css';import{PhoneInput}from'react-international-phone';import'react-international-phone/style.css';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export const LoginForm=()=>{const[inputFullName,setInputFullName]=useState('');const[phoneNumber,setPhoneNumber]=useState('');// Хранение номера телефона\nconst[inputEmail,setInputEmail]=useState('');const[inputCompany,setInputCompany]=useState('');const[isSubmit,setIsSubmit]=useState(false);const[errors,setErrors]=useState({fullName:false,phone:false,email:false,company:false});const validateForm=()=>{const newErrors={fullName:inputFullName==='',phone:phoneNumber==='',email:inputEmail==='',company:inputCompany===''};setErrors(newErrors);return!Object.values(newErrors).some(error=>error);};const handleFieldChange=(field,value)=>{switch(field){case'fullName':setInputFullName(value);setErrors(prev=>({...prev,fullName:value===''}));break;case'phone':setPhoneNumber(value);setErrors(prev=>({...prev,phone:value===''}));break;case'email':setInputEmail(value);setErrors(prev=>({...prev,email:value===''}));break;case'company':setInputCompany(value);setErrors(prev=>({...prev,company:value===''}));break;default:break;}};async function fetchData(event){event.preventDefault();if(!validateForm()){return;// Останавливаем отправку, если есть ошибки\n}try{setIsSubmit(true);const response=await axios.post(process.env.REACT_APP_SERVER_URL+'/api/sendmail',{name:inputFullName,phone:phoneNumber,email:inputEmail,company:inputCompany},{headers:{'Content-Type':'application/json'}});window.location.reload();window.scrollTo(0,0);}catch(error){console.error(error.message);}}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-modal-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Get in touch with us\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:fetchData,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-inputs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-block\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputLoginFullName\",children:\"Full name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Full name\",className:`input-field ${errors.fullName?'input-error':''}`,disabled:isSubmit,id:\"inputLoginFullName\",value:inputFullName,onChange:e=>handleFieldChange('fullName',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-block\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputLoginPhone\",children:\"Phone\"}),/*#__PURE__*/_jsx(PhoneInput,{defaultCountry:\"gb\",value:phoneNumber,onChange:phoneNumber=>handleFieldChange('phone',phoneNumber),style:{height:'45px'},className:`${errors.phone?'phone-input-error':''}`,disabled:isSubmit})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-block\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputLoginEmail\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Email\",className:`input-field ${errors.email?'input-error':''}`,disabled:isSubmit,id:\"inputLoginEmail\",value:inputEmail,onChange:e=>handleFieldChange('email',e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-block\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"inputLoginCompanyName\",children:\"Your company name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Company name\",className:`input-field ${errors.company?'input-error':''}`,disabled:isSubmit,id:\"inputLoginCompanyName\",value:inputCompany,onChange:e=>handleFieldChange('company',e.target.value)})]})]}),/*#__PURE__*/_jsx(\"button\",{className:`submit-btn ${isSubmit&&'disabled'}`,disabled:isSubmit,children:\"Submit now\"})]})]})});};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}